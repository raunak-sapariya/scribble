{%load static%}

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="{%static 'homepage/homepage.css'%}">
  <script src="{%static 'homepage/homepage.js'%}"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
  <div id="nav-bar">
    <input id="nav-toggle" type="checkbox" >
    <div id="nav-header">
      <a id="nav-title" href="/" target="_blank">
        SCRIBBLE
      </a>
      <label for="nav-toggle">
        <a id="nav-toggle-burger"></a>
      </label>
      <hr>
    </div>
    <div id="nav-content">
      <div class="nav-button">
        <i class="fas fa-palette"></i><a>Home</a>
      </div>
      <div class="nav-button">
        <i class="fas fa-images"></i><a>Explore</a>
      </div>
      <div class="nav-button">
        <i class="fas fa-thumbtack"></i><a>Saved Post</a>
      </div>
      <hr>
      <div class="nav-button">
        <i class="fas fa-heart"></i><a>Like</a>
      </div>
      <div class="nav-button">
        <i class="fas fa-chart-line"></i><a>Trending</a>
      </div>
      <div class="nav-button">
        <i class="fas fa-fire"></i><a>Message</a>
      </div>
      <div class="nav-button">
        <i class="fas fa-magic"></i><a href="http://localhost:3000/post" >Create Post</a>
      </div>
      <hr>
     
      <div id="nav-content-highlight"></div>
    </div>
    <input id="nav-footer-toggle" type="checkbox">
    <div id="nav-footer">
      <div id="nav-footer-heading">
        <div id="nav-footer-avatar">
          <img src="https://gravatar.com/avatar/4474ca42d303761c2901fa819c4f2547">
        </div>
        <div id="nav-footer-titlebox">
          <a id="nav-footer-title" href="" target="_blank">{{user}}</a>
        </div>

    </div>
  </div>
  </div>
<div class="top-bar">
 
    <a id="top-title" href="/" target="_blank">
      <p>SCRIBBLE</p>
    </a>

  <div>
    <a id="nav-icons" href="/" target="_blank">
      <i class="fa fa-plus"></i>
    </a>
    <a id="nav-icons" href="/" target="_blank">
      <i class="fa fa-message"></i>
    </a>
  </div>
</div>

</div>
  <nav class="bottom-bar">
    <a class="active" href="#">
      <svg viewBox="0 0 100 100">
        <g transform="translate(10 5) scale(0.8 0.9)">
          <path d="M 0 30 v 70 h 100 v -70 l -50 -30 z" stroke="currentColor" stroke-width="10" fill="none"
            stroke-linejoin="round" stroke-linecap="round" />
        </g>
      </svg>
      <span>
        Home
      </span>
    </a>
  
    <a href="#">
      <svg viewBox="0 0 100 100">
        <g transform="translate(5 5) scale(0.9 0.9)">
          <path d="M 50 35 a 20 20 0 0 1 50 0 q 0 25 -50 60 q -50 -35 -50 -60 a 25 25 0 0 1 50 0" stroke="currentColor"
            stroke-width="10" fill="none" stroke-linejoin="round" stroke-linecap="round" />
        </g>
      </svg>
      <span>
        Likes
      </span>
    </a>
  
    <a href="#">
      <svg viewBox="0 0 100 100">
        <g transform="translate(5 5) scale(0.9 0.9)">
          <circle cx="45" cy="38" r="38" stroke="currentColor" stroke-width="10" fill="none" />
          <line x1="66" y1="65" x2="100" y2="100" stroke="currentColor" stroke-width="10" />
        </g>
      </svg>
      <span>
        Search
      </span>
    </a>
  
    <a href="#">
      <svg viewBox="0 0 100 100">
        <g transform="translate(5 5) scale(0.9 0.9)">
          <circle cx="50" cy="35" r="18" stroke="currentColor" stroke-width="10" fill="none" />
          <rect x="15" y="75" width="70" height="50" rx="25" stroke="currentColor" stroke-width="10" fill="none" />
        </g>
      </svg>
      <span>
        Profile
      </span>
    </a>
  </nav>

<div class="posts">
{%for post in posts %}
  <div class="album box">
    <div class="status-main">
      <img src={{post.user}} class="status-img" />
      <div class="album-detail">
        <div class="album-title"><strong>{{post.user}}</strong></div>
        <div class="album-date">6 hours ago</div>
      </div>
      <button class="intro-menu"></button>
    </div>
    <div class="album-content">{{post.content}}
     
        <img
          src= {{post.image_url}}
          alt="" class="album-photo" />
       </div>
    <div class="album-actions">
      <a href="#" class="album-action">
        <svg stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"
          viewBox="0 0 24 24">
          <path
            d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z" />
        </svg>
       {{post.like_count}}
      </a>
      <a href="#" class="album-action">
        <svg stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"
          class="css-i6dzq1" viewBox="0 0 24 24">
          <path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z" />
        </svg>
        {{post.comment_count}}
      </a>
      <a href="#" class="album-action">
        <svg stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"
          class="css-i6dzq1" viewBox="0 0 24 24">
          <path d="M17 1l4 4-4 4" />
          <path d="M3 11V9a4 4 0 014-4h14M7 23l-4-4 4-4" />
          <path d="M21 13v2a4 4 0 01-4 4H3" />
        </svg>
      </a>
    </div>
  </div>


{% endfor %}
</div>

<script>
   let checkbox = document.getElementById('nav-toggle');
   var targetDiv = document.querySelectorAll('.album');
   if (checkbox.checked) {
        targetDiv.forEach(e=>e.style.marginLeft="120px")
      } else {
        targetDiv.forEach(e=>e.style.marginLeft="300px")

      }
   checkbox.addEventListener('change', function() {
      if (checkbox.checked) {
        targetDiv.forEach(e=>e.style.marginLeft="120px")
      } else {
        targetDiv.forEach(e=>e.style.marginLeft="300px")

      }
    });
</script>

<script>
  const navigationOptions = [   
  {
    name: 'home',
    color: '#5B37B7',
    bg:"#332968"
    
  },
  {
    name: 'likes',
    color: '#C9379D',
    bg:"#aa0084"

  },
  {
    name: 'search',
    color: '#E6A919',
    bg:"#d67700"
  },
  {
    name: 'profile',
    color: '#1892A6',
    bg:"#007179"
  }
];

const links = document.querySelectorAll('nav a');

function handleClick(e) {
  e.preventDefault();
  links.forEach(link => {
    if (link.classList.contains('active')) {
      link.classList.remove('active');
    }
  });

  const name = this.textContent.trim().toLowerCase();
  const { color,bg } = navigationOptions.find(item => item.name === name);

  const style = window.getComputedStyle(this);
  const hoverColor = style.getPropertyValue('--hover-c');
  if (color !== hoverColor) {
    this.style.setProperty('--hover-bg', `${color}20`);
    this.style.setProperty('--hover-c', color);
  }

  this.classList.add('active');
  document.querySelector('body').style.background = color;
  document.querySelector(".top-bar").style.background=bg
}

links.forEach(link => link.addEventListener('click', handleClick));
</script>
<script>
   let prevScrollPos = window.pageYOffset;

window.onscroll = function() {
  let currentScrollPos = window.pageYOffset;

  if (prevScrollPos > currentScrollPos) {
    // Scrolling up, show the navbar
    document.querySelector(".top-bar").style.top = "0";
  } else {
    // Scrolling down, hide the navbar
    document.querySelector(".top-bar").style.top = "-200px";
  }

  prevScrollPos = currentScrollPos;
}
</script>
</body>




</html>